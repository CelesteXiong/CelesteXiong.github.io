---
layout: post
title: Fitness gesture recognition and correction based on Computer Vision
date: 2019-10-03 23:45
category: Research, Image Processing, Machine Learning
author: 
tags: []
summary: 
---

**Note**: 2019年度国家大学生创新创业训练计划项目 - 基于机器视觉的健身姿态识别与纠正向导

1. 前提: 获取每个姿态的双目图片, 并能提取图像人体关节点的二维坐标

2. 要求: 进行三维重建, 与标准姿态图片重建后的结果对比并评分

<!--more-->

3. 思路: 

   - 对左右目图片进行标定

   - 使用Openpose得到标定后的图片中的二维关节点

     >Openpose 是CMU研究出的一个多人实时观测方法，能够得到人体的25个关节点。
     >
     >它相对于opencv和alphapose 的优势在于它可以估测出被遮挡的部位，准确性较高

   - 对左右目图片内关节点的二维坐标,进行**特征点匹配**来修正

     特征点匹配的目的是，通过匹配且调整左右关节点的数据，减少三维重建的误差

   - 对匹配的特征点, 利用**双目视差**, 重建得到三维坐标

     ![image-20201203235603543](/../../media/2019-10-03-undergraduate-innovation-project/image-20201203235603543.png)

4. **难点**: 特征点匹配不准确

   - 基于opencv的图像模板匹配

     - 以左目的关节点为标准，分别以每个关节点中心点框取一定尺寸的图像作为要搜索的图像模板（本项目中选取的尺寸大小为：16x16 单位：像素）
     - 以右目检测出的关节点为中心点框取更大尺寸范围的图像作为待搜索的测试图像（此处选取的尺寸大小为：32x32 单位：像素）使用Match Template进行查找并匹配图像模板中的内容
     - 利用匹配出的结果计算中心点，该中心点即为我们使用该方法进行特征点修正的最终右目关节点。
     - **效果：**经过算法调整之后，左右目眼睛和鼻子匹配得更好，但是由于像素精度限制，这个方法的精度不够高

   - 基于修正的方法进行匹配: SIFT、ORB和SURF

     在设定一定阈值之后，这三种方法匹配出的特征点对应性较高, 从三种方法匹配出的特征点中筛选出和人体关节点近似的特征点，作为关节点的修正点

5. 研究成果：
   - 针对单目图片估计人体姿态存在的问题，提出了结合**OpenPose**和双目立体视觉重建人体三维姿态的方法，该方法准确率高；
   - 对于两个节拍错位动作的纠正，提出了使用时间对齐算法对齐动作节拍快慢不一致的视频；
   - 设计了健身动作评价系统，该系统通过比对健身用户的健身视频与标准健身视频，计算关键动作处用户的姿态和标准姿态的差异，据此评分，并给出纠错建议。